> ### Billing
[![CI](https://github.com/ModiconMe/billing-task/workflows/CI/badge.svg)](https://github.com/ModiconMe/billing-task/actions)

https://localhost:8080/swagger-ui.html - swagger ui клиент.
https://localhost:8080/api-docs - документация.

### Функционал
Доступен без авторизации.
* РЕГИСТРАЦИЯ ПОЛЬЗОВАТЕЛЕЙ. Регистрация пользователей по номеру имени пользователя и паролю. Валидация пароля(от 8 до 128 символов).
* РЕГИСТРАЦИЯ АДМИНИСТРАТОРА. Регистрация администратора аналогична регистрации пользователя, но требуется секретное слово в качестве PathVariable (.env JWT_SECRET).
* ЛОГИН. Возвращает jwt токен при успешной авторизации.

Требуется авторизация.
* СОЗДАНИЕ ЗАДАЧИ. Создаем задачу(видна только пользователю или Администратору). Имя задачи должно быть уникально, а дата окончания не раньше текущей даты. 
* ОБНОВЛЕНИЕ ЗАДАЧИ. Обновляем задачу(только свои задачи, администратор может обновлять любые задачи). Валидация аналогична созданию. 
* УДАЛЕНИЕ ЗАДАЧИ. Удаляем задачу и ее файлы(только свои задачи, администратор может удалять любые задачи). 
* ПОЛУЧЕНИЕ СПИСКА ЗАДАЧ НА УКАЗАННУЮ ДАТУ. Получает задачи на указанную дату(только свои задачи, администратор может видеть все задачи). 
* ПОЛУЧЕНИЕ СПИСКА ЗАДАЧ. Получает задачи сгруппированные по приоритету(только свои задачи, администратор может видеть все задачи). 

* СОЗДАНИЕ ТЕГА. Создаем тег. Имя тега должно быть уникально.
* ОБНОВЛЕНИЕ ТЕГА. Доступен только администратору. Обновляем тег. Имя тега должно быть уникально.
* УДАЛЕНИЕ ТЕГА. Доступен только администратору. Удаляем тег. Удаляет тег и все его задачи и файлы этих задач.
* ПОЛУЧЕНИЕ ТЕГОВ У КОТОРЫХ ЕСТЬ ЗАДАЧИ.
* ПОЛУЧЕНИЕ ТЕГА. Получает тег и его задачи(только свои задачи, администратор может видеть все задачи).
* ЗАГРУЗКА ФАЙЛА. Добавляем файл к задаче(только свои задачи, администратор может добавлять ко всем задачам).
* СКАЧИВАНИЕ ФАЙЛА. Загружает файл к задаче по имени задачи и идентификатору файла(только свои задачи, администратор может скачивать файлы любой задачи).
* ПОЛУЧЕНИЕ СПИСКА ФАЙЛОВ ЗАДАЧИ. Получаем список файлов задачи, по идентификатору файла можно его загрузить(только свои задачи, администратор может получать данные любой задачи).
* 
### Technology
- Spring Boot 3.0.1 и Java 17
- Spring Data JPA + PosgreSQL
- Spring Security + jwt
- OpenApi
- Logback
- JUnit 5 + Mockito для юнит тестирования
- JUnit 5 + OpenFeign для интеграционного тестирования
- Docker + Docker-compose
- GitHub actions в качестве CI

### Getting started
Требуется Java 17 и PostgreSQL или выше


    ./gradlew bootRun

Или запустить с помощью Docker

    docker compose up

Запуск deploy версии с секретными переменными(.env)

    docker compose -f docker-compose-deploy up